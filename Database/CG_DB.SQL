CREATE DATABASE CG_DB;
USE CG_DB;
CREATE Table IF NOT EXISTS contractant (
    ID_CTR INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    NOM_CTR VARCHAR(30),
    CIN_CTR VARCHAR(20),
    TYPE_CTR VARCHAR(20),
    SEXE_CTR VARCHAR(20),
    PROF_CTR VARCHAR(50),
    DT_CTR DATE,
    DPL_CTR VARCHAR(50),
    ADRES_CTR VARCHAR(100),
    EMAIL_CTR VARCHAR(50),
    TEL_CTR VARCHAR(20)
);
CREATE Table IF NOT EXISTS Type_contrat (
    ID_TYPE INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    TYPE_CT VARCHAR(500),
    CODE_TYPE VARCHAR(50)
);
CREATE Table IF NOT EXISTS contrat (
    ID_CT INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    NUM_CT VARCHAR(20),
    DT_CT DATE,
    OBJ_CT VARCHAR(100),
    ENTITE VARCHAR(100),
    ID_TYPE_CT VARCHAR(10),
    PRM_CT VARCHAR(5000),
    AR1_CT VARCHAR(5000),
    AR2_CT VARCHAR(5000),
    MNT_BRUT_LTR VARCHAR(60),
    MNT_BRUT FLOAT,
    MNT_ARN_LTR VARCHAR(60),
    MNT_ARN FLOAT,
    MNT_NET_LTR VARCHAR(60),
    MNT_NET FLOAT,
    DT_AF DATE DEFAULT CURRENT_TIMESTAMP,
    FILE_CT VARCHAR(500),
    ID_CTR INT,
    FOREIGN KEY (ID_CTR) REFERENCES contractant(ID_CTR)
);
CREATE TABLE IF NOT EXISTS utilisateur (
    ID_USER INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    NOM_USER VARCHAR(50) NOT NULL UNIQUE,
    PWD_USER VARCHAR(255) NOT NULL,
    Cree_a DATETIME DEFAULT CURRENT_TIMESTAMP
);